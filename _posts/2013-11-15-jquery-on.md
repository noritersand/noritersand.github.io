---
layout: post
date: 2013-11-15 12:36:26 +0900
title: 'jQuery: .on()'
categories:
  - javascript
  - jquery
tags:
  - javascript
  - jquery
  - on
---

* Kramdown table of contents
{:toc .toc}

#### 관련 문서

- [https://api.jquery.com/on/](https://api.jquery.com/on/)

## .on()

하나 혹은 그 이상의 요소(노드)에 이벤트 핸들러를 부착(?)한다. [^1]

```
.on( events [, selector] [, data], handler( eventObject ) )
```

- `events`: 공백으로 구분된 하나 이상의 이벤트 타입과 옵션인 네임스페이스. 'click', 'keydown.myPlugin', '.myPlugin' 등이 있음
- `selector`: 이벤트가 발생할 요소들의 자손을 찾는 선택자. 선택자가 null 이거나 생략됐다면 이벤트는 선택된 요소에 한해서 반응한다.
- `data`: 이벤트가 발생할 때 핸들러에 전달할 데이터
- `handler(eventObject)`: 이벤트가 발생되면 실행될 기능. false를 반환하는 함수라면 간단하게 false 를 직접 인자로 하면 된다.

```
.on( events-map [, selector] [, data] )
```

- `events-map`: 공백으로 구분된 하나 이상의 이벤트 타입과 선택적인 네임스페이스로 구성된 키(keys)들과 값(values)들의 문자열.

`on()`은 jQuery 1.7부터 `bind()`, `delegate()`, `live()`를 대체하는 메서드로 이벤트 핸들러 바인딩에 필요한 기존 메서드의 모든 기능을 제공한다. jQuery는 앞의 세 메서드 대신 `on()`을 사용할 것을 권장하고 있다.

```
$(선택자).on(이벤트타입 [, 자손선택자] [, 데이터], 핸들러())
```

`on()`은 기본적으로 jQuery 객체를 반환하지만 메서드의 전달인자로 추가적인 선택자를 명시하면 최초 요소의 하위를 재탐색하여 반환한다:

```js
$("#btn_close").on("click", function() {
    self.close();
});

$("#btn").bind("click", function() {});
$("#btn").on("click", function() {});

$("body").delegate("#btn", "click", function() {});
$("body").on("click", "#btn", function() {});

$("#btn").live("click", function() {});
$("#btn").on("click", function() {});
```

사용방법은 `bind()`, `delegate()`, `live()`와 대동소이하다.

주의해야 할 것은 on을 사용한다고 해서 무조건 동적처리가 가능한것은 아니라는 점. 여기서 동적 처리란 HTML 문서의 로딩이 완료된 후 스크립트에 의해 HTML 구성요소가 추가로 생성되었을 때, 이 구성요소에서 발생하는 이벤트를 감지하여 핸들러를 호출하는 과정을 의미한다.

```html
<script>
  jQuery(document).ready(function() {
    $("#demo6 li").on("click", function() {
      alert($(this).text());
    });

    $("#demo6 button").on("click", function() {
      $("#demo6 ul").append("<li>added</li>");
    });
  });
</script>
<div id="demo6">
    <button>ADD</button>
    <ul>
        <li>test1</li>
        <li>test2</li>
        <li>test3</li>
    </ul>
</div>
```
### 입력 테스트

<script type="text/javascript">
  jQuery(document).ready(function() {
    $("#demo6 li").on("click", function() {
      alert($(this).text());
    });

    $("#demo6 button").on("click", function() {
      $("#demo6 ul").append("<li>added</li>");
    });
  });
</script>
 </p>
<div id="demo6"><button style="background:#eee; padding:3px 10px; border:1px solid #ccc; margin-bottom:10px;">ADD</button>
<ul>
<li>test1</li>
<li>test2</li>
<li>test3</li></ul></div></div>




[^1]: Attach an event handler function for one or more events to the selected elements.
