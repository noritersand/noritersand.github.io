<!DOCTYPE html>

<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
<!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]-->
<meta name="viewport" content="width=device-width,initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>jQuery: jqGrid | 내 아이큐 80, 너도 80, 둘이 합쳐 160</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="jQuery: jqGrid" />
<meta property="og:locale" content="en" />
<meta name="description" content="A gem-based responsive simple texture styled Jekyll theme." />
<meta property="og:description" content="A gem-based responsive simple texture styled Jekyll theme." />
<link rel="canonical" href="http://localhost:4000/1970/01/01/jQuery-jqGrid/" />
<meta property="og:url" content="http://localhost:4000/1970/01/01/jQuery-jqGrid/" />
<meta property="og:site_name" content="내 아이큐 80, 너도 80, 둘이 합쳐 160" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="1970-01-01T00:00:00+09:00" />
<script type="application/ld+json">
{"headline":"jQuery: jqGrid","dateModified":"1970-01-01T00:00:00+09:00","datePublished":"1970-01-01T00:00:00+09:00","url":"http://localhost:4000/1970/01/01/jQuery-jqGrid/","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/1970/01/01/jQuery-jqGrid/"},"description":"A gem-based responsive simple texture styled Jekyll theme.","@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<meta name="keywords" content="jquery,jqgrid" />





<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="내 아이큐 80, 너도 80, 둘이 합쳐 160" />
    <link href='/assets/stylesheets/blog.css' rel="stylesheet" type="text/css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
<script>window.Modernizr || document.write('<script src="/assets/javascripts/modernizr-2.8.3.min.js"><\/script>')</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="/assets/javascripts/jquery-3.3.1.min.js"><\/script>')
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script>
<script>
    window.Pace || document.write('<script src="/assets/javascripts/pace.min.js"><\/script>')
</script>

    
</head>

<body>
    

    <!--[if IE]>
    <p class="site-notice">You are using an outdated browser. Please <a href="http://browsehappy.com/" target="_blank">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true" target="_blank">activate Google Chrome Frame</a> to improve your experience.</p>
<![endif]-->
<noscript>
    <p class="site-notice">This site requires JavaScript. Here are the instructions <a href="http://www.enable-javascript.com/" target="_blank">how to enable JavaScript in your web browser</a>.</p>
</noscript>

    <div class="nav-wrapper overlay-wrapper">
    <div class="nav-form overlay-form">
        <span class="overlay-header menu">Menu</span>
        <a class="btn-close">Close</a>
        <div class="results">
            <ul>
                <li><a href="/categories/">Categories</a></li>
                <li><a href="/tags/">Tags</a></li>
                <li><a href="/">About</a></li>
            </ul>
        </div>
    </div>
</div>

<div class="search-wrapper overlay-wrapper">
    <div class="search-form overlay-form">
        <input type="text" class="overlay-header search-field" placeholder="Search...">
        <a class="btn-close">Close</a>
        <ul class="results"></ul>
    </div>
</div>


    <div id="page" class="hentry">
        <header class="the-header">
    <div class="unit-head">
        <div class="unit-inner unit-head-inner">
            <nav class="nav-global">
                <ul>
                    <li class="logo nav-link">
                        <button class="btn-menu" title="Menu"></button>
                        <a href="/blog/">내 아이큐 80, 너도 80, 둘이 합쳐 160</a>
                        <!--[if !IE]> -->
                        <button class="btn-search" title="Search"></button>
                        <!-- <![endif]-->
                    </li>
                    <li class="nav-link"><a title="Categories" href="/categories/">Categories</a></li>
                    <li class="nav-link"><a title="Tags" href="/tags/">Tags</a></li>
                    <!--[if !IE]> -->
                    <li class="nav-link"><a title="Search" class="btn-search" href="#">Search</a></li>
                    <!-- <![endif]-->
                </ul>
            </nav>
        </div>
    </div>
</header>


        <div class="body animated fadeInDown" role="main">
            <div class="unit-body">
                <div class="unit-inner unit-body-inner">
                    <div class="entry-content">
                        <article class="unit-article layout-post">
    <div class="unit-inner unit-article-inner">
        <div itemscope itemtype="http://schema.org/Article" class="content">
            <header>
                <div class="unit-head">
                    <div class="unit-inner unit-head-inner">
                        <h1 class="entry-title" itemprop="name">jQuery: jqGrid</h1>
                    </div>
                </div>
            </header>
            <div class="bd article-content">
                <div class="entry-content">
                    <div class="meta">
                        <p class="date-publish">
                            Published:
                            <time itemprop="datePublished" class="date-pub updated"
                                title="1970-01-01T00:00:00+09:00" datetime="1970-01-01T00:00:00+09:00">January 01, 1970 </time>
                            by
                            <a class="author" href="/" rel="author" title="Show Author">
                                <span itemprop="author" itemscope itemtype="http://schema.org/Person">
                                    <span itemprop="name"></span>
                                </span>
                            </a>
                            
                                <a class="license-icon" rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" title="Show License">
                                    <img alt="Creative Commons Licence" style="border-width:0" src="/assets/images/theme/cc-by-sa.png"  height="16" width="80"/>
                                </a>
                            
                            
                        </p>
                        <ul class="list-category list-linear">
                            <li class="list-head">Categories: </li>
                             
     
        <li>
            <a href="/categories/#javascript" title="javascript">
            javascript <span>34</span></a>
        </li>
     
        <li>
            <a href="/categories/#jquery" title="jquery">
            jquery <span>3</span></a>
        </li>
    



                        </ul>
                        <ul class="list-tag list-linear">
                            <li class="list-head">Tags: </li>
                             
    
        
        <li>
            <a href="/tags/#jqgrid" title="jqgrid">jqgrid <span>1</span></a>
        </li>
    
        
        <li>
            <a href="/tags/#jquery" title="jquery">jquery <span>3</span></a>
        </li>
    




                        </ul>
                    </div>
                    <div itemprop="articleBody">
                        <p><img src="/images/image-jqgrid-1.png" alt="" /></p>

<h4 id="heading-참고한-글">참고한 글</h4>
<ul>
  <li><a href="http://www.trirand.com">http://www.trirand.com</a></li>
  <li><a href="https://github.com/tonytomov/jqGrid/tree/master">github</a></li>
  <li><a href="http://www.trirand.com/jqgridwiki/doku.php?id=wiki:jqgriddocs">wiki</a></li>
  <li><a href="http://trirand.com/blog/jqgrid/jqgrid.html">demo</a></li>
</ul>

<p>jqGrid는 데이터 리스트를 표현하는 grid 플러그인이다. 페이징, 셀의 수정/추가/삭제 등 다양한 기능을 지원한다.</p>

<h2 id="heading-수정모드-강제종료">수정모드 강제종료</h2>
<p>jqGrid에서 특정셀을 수정 가능하도록 설정(colmodel option - editable: true)한 경우 해당셀을 선택하면 옵션에 따라 <code class="highlighter-rouge">&lt;input&gt;</code> 혹은 <code class="highlighter-rouge">&lt;select&gt;</code> 등의 입력폼으로 바뀌게 되어 있다.</p>

<p><img src="/images/image-jqgrid-2.png" alt="" /></p>

<p>위 사진처럼 입력폼으로 바뀐 셀의 상태를 수정모드라고 했을 때, 수정모드를 종료하지 않고 해당 셀의 값을 가져오려고 하면 화면상에 보이는것 처럼 200이 아닌 다른값이 나온다. (이 값은 null string이나 입력폼 태그 자체가 나올 수도 있다)</p>

<p>따라서 만약 셀을 수정하고 그 데이터를 submit등으로 처리해야 한다면 반드시 셀들의 현 상태를 체크하는 코드가 선행되어야 한다. (물론 사용자가 엔터 등으로 수정모드를 손수 종료시키고 다음 행동을 한다면 문제가 없겠지만…) 셀을 수정중인 상태에서 아래 코드를 실행시켜보면 수정모드가 즉시 종료되는것을 확인할 수 있다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// selRows = $('#list').getGridParam().selarrrow;  // 선택한row만 적용할 경우</span>
<span class="kd">var</span> <span class="nx">selRows</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#list'</span><span class="p">).</span><span class="nx">getDataIDs</span><span class="p">();</span>  <span class="c1">// 모든row</span>
<span class="kd">var</span> <span class="nx">colModel</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#list'</span><span class="p">).</span><span class="nx">getGridParam</span><span class="p">().</span><span class="nx">colModel</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">gridData</span> <span class="o">=</span> <span class="p">[];</span>

<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">selRows</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="nx">j</span><span class="o">&lt;</span><span class="nx">colModel</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'#list'</span><span class="o">+</span><span class="s1">' tr#'</span><span class="o">+</span><span class="nx">selRows</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">+</span><span class="s1">' td:eq('</span><span class="o">+</span><span class="nx">j</span><span class="o">+</span><span class="s1">')'</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'edit-cell'</span><span class="p">)){</span>

      <span class="nx">$</span><span class="p">(</span><span class="s1">'#list'</span><span class="p">).</span><span class="nx">saveCell</span><span class="p">(</span><span class="nx">selRows</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">j</span><span class="p">);</span>
      <span class="c1">// 혹은</span>
      <span class="c1">// $('#list').jqGrid('saveCell',selRows[i],j);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="kd">var</span> <span class="nx">rowData</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'#list'</span><span class="p">).</span><span class="nx">getRowData</span><span class="p">(</span><span class="nx">selRows</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
  <span class="nx">gridData</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">rowData</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="heading-onselectrow-oncellselect-onselectcell의-차이">onSelectRow, onCellSelect, onSelectCell의 차이</h2>
<p><a href="http://www.trirand.com/jqgridwiki/doku.php?id=wiki:events">http://www.trirand.com/jqgridwiki/doku.php?id=wiki:events</a></p>

<p><img src="/images/image-jqgrid-3.png" alt="" /></p>

<p>셋 다 이벤트 발생 시점은 grid에 mouseclick, 혹은 keydown 이벤트가 발생했을때로 동일하지만 적용범위에서 차이가 있다:</p>
<ul>
  <li>onSelectRow는 체크박스(multiselect: true)에 마우스 클릭했을 때 작동한다. 전체선택에 해당되는 머리글의 체크박스는 제외.</li>
  <li>onCellSelect는 머리글 셀이 아닌 모든 셀을 클릭했을 때 작동한다. 체크박스가 있는 셀에서 체크박스가 아닌 나머지 셀의 부분을 클릭해도 onCellSelect이벤트가 발생한다.</li>
  <li>onSelectCell는 머리글 셀이 아니고, 체크박스가 아니며, 수정가능한 셀이 아닌 데이터 셀을 클릭했을 때만 작동한다. 클릭 시 에디트 모드로 바뀌는 셀 colModel: {editable: true}</li>
  <li>만약 데이터 셀이지만 수정가능한 셀이라면 onSelectCell은 작동하지 않고 onCellSelect만 작동한다.</li>
  <li>키보드로 셀 이동 중일 때 작동하는 것은 onSelectCell</li>
  <li>셀이 선택되었을 때 수정가능한 셀이라도 엔터키 입력만으로는 아무것도 작동하지 않는다.</li>
  <li>머리글 셀의 모두선택 체크박스를 클릭했을 때는 onSelectAll이 작동한다.</li>
  <li>onCellSelect 콜백 파라미터인 e는 자바스크립트 event객체다.</li>
</ul>

                    </div>
                </div>
            </div>
            <footer class="unit-foot">
                <div class="unit-inner unit-foot-inner">
                    <div class="post-buttons">
                        <a class="internal gotop" href="#page" title="Back to Top">Back to Top</a>
                        
                    </div>
                    <nav class="pagination">
                        
                            <a class="internal" rel="prev" href="/1970/01/01/eclipse-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8-%EB%AA%A8%EC%9D%8C/" title=" 'eclipse: 플러그인 모음'"> ← eclipse: 플러그인 모음</a>
                        
                        
                            <a class="internal" rel="next" href="/1970/01/01/jQuery-jquery-fileDownload-js/" title="Next Post 'jQuery: jquery.fileDownload.js'">jQuery: jquery.fileDownload.js → </a>
                        
                    </nav>
                </div>
            </footer>
            <div class="misc-content">
                
            </div>
        </div>
    </div>
</article>

                    </div>
                </div>
            </div>
        </div>
        <footer class="the-footer">
    <div class="unit-foot">
        <div class="unit-inner unit-foot-inner">
            <div class="misc vcard">
                <div class="about">
                    <h4><a href="/">About</a></h4>
                    
                        <p>A gem-based responsive simple texture styled <a href="http://jekyllrb.com/">Jekyll</a> theme.</p>
                    
                    <p><small>Theme <a href="https://github.com/yizeng/jekyll-theme-simple-texture" target="_blank">Simple Texture</a> developed by <a href="https://yizeng.me" target="_blank">Yi Zeng</a>, powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a>.</small></p>
                </div>
                <div class="social-links">
                    
                    <a class="ico-rss" href="/feed.xml" rel="me" target="_blank" title="feed"></a>
                    
                        
                            <a class="ico-github" href="https://github.com/noritersand" rel="me" target="_blank" title="github"></a>
                        
                    
                </div>
            </div>
        </div>
    </div>
    <a href="#" class="internal back-to-top">Back to Top</a>
</footer>

    </div>

    <script>
$(document).ready(function () {
    var offset = 50,
        duration = 500,
        width = 960;
    $(window).scroll(function () {
        if ($(window).width() > width) {
            if ($(this).scrollTop() > offset) {
                $('footer').css('top', '20px');
                $('footer .back-to-top').fadeIn(duration);
            } else {
                $('footer').css('top', 'auto');
                $('footer .back-to-top').fadeOut(duration);
            }
        }
    });
    $(window).resize(function () {
        if ($(window).width() < width) {
            $('footer').css('top', 'auto');
            $('footer .back-to-top').fadeOut(duration);
        }
        if ($(window).width() >= width && $(this).scrollTop() > offset) {
            $('footer').css('top', '20px');
            $('footer .back-to-top').fadeIn(duration);
        }
    });

    $('footer .back-to-top, .gotop').on('click', function (event) {
        event.preventDefault();
        $('html, body').animate({
            scrollTop: 0
        }, duration);
        return false;
    });

    $('.show-hidden').on('click', function () {
        $(this).parent().next().toggleClass("hidden");
        $(this).toggleClass("hidden");
    });
});
</script>

<!-- Show menu overlay + Jekyll Simple Search option -->
<script src="/assets/javascripts/jekyll-search.jquery.js"></script>
<script>
$(document).ready(function () {
    $('.search-field').simpleJekyllSearch({
      jsonFile: '/search.json',
      template: '<li><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></li>',
      searchResults: '.search-wrapper .results',
      searchResultsTitle: '<h4>Search results</h4>',
      noResults: '<p>Oh shucks<br/><small>Nothing found :(</small></p>'
    });
});

(function ($, window, undefined) {
    var closeOverlay = function () {
        $('.nav-wrapper, .search-wrapper').removeAttr('style');
        $(".nav-form, .search-form").removeClass('active');
        $("body").removeClass('nav-overlay search-overlay');
    };

    $('.nav-global .btn-search').on('click', function () {
        $('.search-wrapper').css({display: "block"});
        $(".search-form").addClass('active');
        $(".search-form").find('input').focus();
        $("body").addClass('search-overlay');
    });

    $('.nav-global .btn-menu').on('click', function () {
        $('.nav-wrapper').css({display: "block"});
        $(".nav-form").addClass('active');
        $(".nav-form .search-field").prop('disabled', true);
        $("body").addClass('nav-overlay');
    });

    $('.nav-wrapper .btn-close, .search-wrapper .btn-close').on('click', function () {
        closeOverlay();
    });

    $(document).on('keyup', function (e) {
        if (e.keyCode === 27) {
            closeOverlay();
        }
    });
})(jQuery, window);
</script>

<script src='//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.js'></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-buttons.min.js'></script>
<script src="/assets/javascripts/unveil/jquery.unveil.min.js"></script>

<script>
    window.jQuery.fancybox || document.write('<script src="/assets/javascripts/fancybox/jquery.fancybox.pack.js?v=2.1.4"><\/script>')
    window.jQuery.fancybox.helpers.buttons || document.write('<script src="/assets/javascripts/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"><\/script>')
</script>

<script>
    $("head").append('<link rel="stylesheet" href="/assets/javascripts/fancybox/jquery.fancybox.css?v=2.1.4" type="text/css" />');
    $("head").append('<link rel="stylesheet" href="/assets/javascripts/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" />');
    $(".post-image").fancybox({
        prevEffect: 'none',
        nextEffect: 'none',
        closeBtn: true,
        helpers: {
            title: {
                type: 'float'
            }
        }
    });
    $(document).ready(function () {
        $(".post-image > img").unveil(450);
    });
</script>

</body>

</html>